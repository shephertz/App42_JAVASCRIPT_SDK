<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>App42 Sample App</title>
        <link href="css/create_user_style.css" rel="stylesheet" type="text/css" />
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script type="text/javascript" src="https://raw.github.com/shephertz/App42_JAVASCRIPT_SDK/master/App42-all-0.6.0.min.js"></script>
        <script>
            App42.initialize("6e4e1e08f7003d044dadb0afbd7b7bbe83dc854b7cd7b421b4aec0f1c93cb1ba","b80dd164749c11756e8a356d5ede6d83d9c9ef35e16780c7158eea946377d5bd");
            App42.setBaseUrl("http://test.api.shephertz.com/App42_API_SERVER/cloud/1.0/");
            function createUser(){
                $(".success").hide();
                $(".error").hide();
                var userName = $("#uName").val();
                var pwd = $("#pwd").val();
                var email = $("#email").val();
                var user  = new App42User();
                try{
                    user.createUser(userName, pwd, email,{
                        success: function(object) {
                            $(".success").show();
                            var userObj = JSON.parse(object)
                            var name = userObj.app42.response.users.user.userName;
                            var email = userObj.app42.response.users.user.email;
                            $('#success').html("User created with the name"+" "+name+" "+"and emailId is"+" "+ email);
                        },
                        error: function(error) {
                            $(".error").show();
                            var errorObj = JSON.parse(error).app42Fault.details;
                            $('#error').html(errorObj);
                        }
                    }); 
                }catch(App42Exception){
                    $(".error").show();
                    $('#error').html(App42Exception.message);
                }
            }
        </script>
    </head>
    <body>
        <div id="header_wrapper">
            <div id="header_inner">
                <div id="logo"><a href="http://shephertz.com/api"><img border="0" alt="CloudAPI" src="images/logo.png"></a></div>
            </div>
        </div>
        <div class="clear"></div>
        <div class="create_user_wrapper">
            <div class="create_user_title">Create a New User</div>
            <div class="create_user_inner">
                <div class="success" id="success" style="display:none">Successful operation message</div>
                <div class="error" id="error" style="display:none">Error message</div>
                <table width="100%" border="0" cellpadding="0" cellspacing="0">
                    <tr>
                        <td align="left" valign="middle" class="lable_txt">Username</td>
                        <td align="left" valign="middle"><input name="textfield" type="text" class="input_box" id="uName" /></td>
                    </tr>
                    <tr>
                        <td align="left" valign="middle" class="lable_txt">Password</td>
                        <td align="left"><input name="textfield3" type="password" class="input_box" id="pwd" /></td>
                    </tr>
                    <tr>
                        <td align="left" valign="middle" class="lable_txt">Email</td>
                        <td align="left"><input name="textfield2" type="text" class="input_box" id="email" /></td>
                    </tr>
                    <tr>
                        <td align="left" valign="middle" class="lable_txt">&nbsp;</td>
                        <td align="left"><a href ="#"><img src="images/submit_btn.png" width="77" height="38" border="0" onclick ="createUser();"/></a></td>
                    </tr>
                </table>
            </div>
        </div>
        </div>
        <div class="clear"></div>
        <div id="footer">
            <div id="copy">Copyright &copy; 2013 ShepHertz Technologies Pvt Ltd. All rights reserved.</div>
        </div>
        
    </body>
</html>